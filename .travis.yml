language: php
sudo: false
php:
- 5.4
- 5.5
- 5.6
- 7.0
matrix:
  fast_finish: true
  allow_failures:
  - env: MAGENTO_VERSION=magento-ce-1.9.1.1
  - env: MAGENTO_VERSION=magento-ce-1.9.1.0
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.2
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.1
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.0
  - php: 5.6
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  - php: 7.0
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
env:
  global:
  - APPNAME=Ffuenf_ProductAlertCleaner
  - secure: r11Uod4CjOYrjIDcCsjfmbFPAlOAB5lTxSGAuz6bX1/9vvN+DxFWs11q5ifdDWj8h04psZRGx1WiZmitFwlaxeZU+w8NCWHaVcBwHwzTqe0TQ80iJ5OUozpIUz+5EYNghL23c1dBMD6xmdBwC3CDMvLXYl/+5q7W8STIt1W7u7SBXG6GjUC1W85CpYZL1o3XbB8P/FT/0GuE/Y8NEuSkV35kh0GkHS4kiviIJYVOo3HsHQIYcDNSnEt5kjh4NjpsRzdvi2ZX8kzsiyRvovdwn768SucZd3qLhNptPfauZZQV7ZqprgnNaYUAu2d/9Efz7JGkCLKImB/CB0F5X5sZnlBDkP926YzF4ELu43PQFXBHevKsH8ixhu4x6hiqhUZvBS1MwHIxQIgvXYFR7tWJvTzYtTq09+Byqdb9uU+GLoWwIn+er4ruuKA4lKUJ05zaRZOaAawUIl4/yDUrh6AhAjW1c7WdGciwbVKBFFz2BP7ZIyi1r9I7lldbCNQU7V3NRxH+XeTOorgEtuwTjS553n9KKDbR4MWVm68qk73EBej9BBVo80DjCtVGDyLP2K5DPi7sooWmhWnqI7JVbKHsGydrRssDuonhSoTBqdvoOWqWDKd4Lz+ubPoXHL1xbvgLnlPja9B3/iNNpV8R3BTcB0iobKuDC8RXUSy+xbNV/Vg=
  - secure: v6kAJ7Wxnht61tEOKhDBrjw9peiRcpGCxN6jGt0A+lV7xNrbi8D9YaKbYGigWUgN44J+lu692gB67j/5Byk9OPxEV4ib/99bXbvPL0relMyMSXVIHRSrTwbxTs4BHfMtzqbgwF/2xK71vcWx2YoXs4UgBY5WcY1bfUO1RzWaBgZpEvJOiuRhaZ2Csd0CWyh5An96aYV6VLqzpoDWkEuh/HUo4PvwTP7Wbdz59omIfEUd/+hOxbnSjtpal7g0ki+sLbKXmA9xDBn0Sgv/7e0ogXauYF/hHzradxWGFOomG6KoDao0/4nK3e4lP0X1RiR1biF1eHzTFW+MR5ogMgQ5ZjgIGMOYQvQVZEoXThnRXSMveqskRnlgCGa6jxp7YDqMhKz8XBYNjrxELFJKXD3vNWh8DDU6Du0mLtSljohlHC1dtJptUSkZ+I4Zc4lvoxzbdVilBNIZnw84X67S0kTY0xrEneuiMiTcpwCgfJXny0ZcLjGSZVFIyLxUBpYBrhLRR3N8QBX6hukZgN6Pt3Qy8lAg92fpiaqcXzs7NbyQp637YLebne+oXiNV60BKx07zXgNGhiKUg103O571hpkJVsqUknJ5DZiSjfREiR/DzNbkor46iMvv2NqbKBpx6stOJr3+vV+mUvcVGaar3S76ODdVtlmCdBcOYIkzLynHZZQ=
  matrix:
  - MAGENTO_VERSION=magento-ce-1.9.2.2
  - MAGENTO_VERSION=magento-ce-1.9.1.1
  - MAGENTO_VERSION=magento-mirror-1.8.1.0
  - MAGENTO_VERSION=magento-mirror-1.7.0.2
  - MAGENTO_VERSION=magento-mirror-1.6.2.0
before_script:
- composer self-update
- composer install --prefer-source
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/setup.sh
  | bash
before_deploy:
- gem install mime-types -v 2.6.2
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: H26SFEZpgAc/IlvPqHpJhUcdzu8A7aiPdzFplXivxjXmxz3M7YfJ9NaAuF2jKm2xeyUmBPnKB645W1yv4Ht88iKRBhmO3hZVpeMVdE14Y+9zdLEjTSVYQ1T9/3bc09gAPkSdjJQrJw4Hq2JK6Cc9vZorX1szxIu4YCM+htgxHheiymRY0vfb/sfHHiYW5bopt16QjW/AN+4Lc2RQbMtXMxg2r6wyQaDoPlWLIexzmT197zfb9DYQ3vBXoPNRi4v4w+H2VbsGmwjNcsWIh85T4VjcV4PiKjDGUWZGSpvVXTGgOZQtq0p89ZPY3b4w2g8Nvg+QwcL2jp7AReB8WdM7oBrYO9vpdyA8DqU70TcS3VyLtcV7S9b3YuCMsCRZjCD8fTPMNZpfffIVAWZZEa/xPInagLCLWK0rlwJVi7er3rO6FqlZz6ovziyBI52DChb2PsjA6RIkp04snREeDU5cbRK07lzWLvDRFsbG3HBgBM3RalBo6MlEitpuY3MQikdPt6hNQrpKo1+TgstFSQT7f474nEACdMSj1oXUk0kNEYGb9S0LI5TzVNGyvHZo7CgxgAnWT27/pvgpkIEzBvmyZzFXIUnhd1THfTfMdE/An9MaV03x50BQMzGvBolzpW6+v/zltbOXTRP2+fXCQF7oPSBZTdAjWo102w/j1/248rU=
notifications:
  slack:
    secure: WQDI7s+u/FUiLpQWUgORK+Z9iRqbdP7ruJf0BE5SyLd4fTK6pE0bn+QX0HY1+z5lkFAyeBypaE5euNzStU88UN+ojWE8XCc9BdVCOpVwQ9X7WJyY2dNXO7NfOwGQBLKuDazcLQk+XW2t6goKlzv/hahJki6MldgJawKFgSzASPPLMatyhGnqSSJGUgKRzUWlLsmkbtXnGsu7+wPpzzVpMLzatqTuDgQ1Wqvi5WTNPAjrL94Tmix437BWN+Flltm7orMGWWxWeAp74bcQohYoZFFEOESxa7dl/jGbQPHlew89V9BKhTB6xZi1HdQtTDJxw4wmHA6hJyG5cL+8fLYCFQBBrngElTEIDD7sgqZSgIxjYTwf6npPqYSbtnsStx0vLpUJW8oVtDks3cVtW7qKQRS1WU53BQv6qnyzBOVZ7Nyx6Wli8ad58eP5SXUp/tcmPBORrgj2388rvaUVKnQmFyjcTx7ElVYIQ8RtWScZAQSKAldiSL9D9VaE7SfgDoBAPipgZ+RuD2wv0AdFrMtcfuqzEtKuJPq/oX0VhKyvs48z/MN/l+4txocsiueprMOdC7jxGKVw2EaeEDkhl2GSQASw/hRT177KX8Nt4a5cx73F2+oxawspSG3+LKmUc6vt8uxgPwdVVqnOz8tGo/SnBD9YIQBDuAsUdliRK/ZBsiA=
